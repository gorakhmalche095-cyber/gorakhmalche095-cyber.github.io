<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refer & Earn | SunPower</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .modal-active { display: flex !important; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body class="bg-gray-50 pb-24">

    <div id="customAlert" class="fixed inset-0 bg-black/60 z-[200] hidden items-center justify-center p-6 backdrop-blur-sm">
        <div class="bg-white w-full max-w-xs rounded-[40px] p-8 text-center shadow-2xl">
            <div id="alertIcon" class="w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3 id="alertTitle" class="font-black text-slate-800 uppercase italic text-sm mb-2">Success</h3>
            <p id="alertMsg" class="text-xs font-bold text-slate-500 leading-relaxed mb-6"></p>
            <button onclick="closeAlert()" class="w-full bg-blue-600 text-white py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg active:scale-95 transition-all">Dismiss</button>
        </div>
    </div>

    <div class="bg-blue-600 p-10 text-white text-center rounded-b-[50px] shadow-lg">
        <h1 class="text-3xl font-black uppercase italic tracking-tighter">Refer & Earn</h1>
        <p class="text-[10px] font-bold opacity-80 mt-2 uppercase tracking-widest">Get 10% instant commission</p>
    </div>

    <div class="p-6">
        <div class="bg-white p-8 rounded-[35px] shadow-sm border border-gray-100 text-center mb-8">
            <div class="w-16 h-16 bg-yellow-400 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl shadow-lg">
                <i class="fas fa-gift"></i>
            </div>
            <h3 class="font-black text-gray-800 text-xl italic uppercase">Invitation Reward</h3>
            <p class="text-gray-400 text-[11px] mt-2 font-bold px-4">Earn 10% of every investment made by your invited friends instantly.</p>
        </div>

        <div class="bg-blue-50 p-6 rounded-[35px] border-2 border-dashed border-blue-200">
            <p class="text-[10px] font-black text-blue-600 uppercase mb-3 tracking-widest text-center">Your Unique Invitation Link</p>
            <div class="bg-white p-4 rounded-2xl flex items-center justify-between shadow-sm">
                <span id="refUrl" class="text-[10px] font-bold text-gray-400 truncate mr-4 italic">Loading Link...</span>
                <button onclick="copyRef()" class="bg-blue-600 text-white px-6 py-2 rounded-xl text-[10px] font-black uppercase shadow-lg active:scale-90 transition-all">Copy</button>
            </div>
        </div>

        <div class="mt-8 px-2">
            <h4 class="font-black text-gray-800 uppercase italic text-sm mb-4">How it works?</h4>
            <div class="space-y-4">
                <div class="flex gap-4">
                    <div class="bg-blue-600 text-white w-6 h-6 rounded-full flex-shrink-0 flex items-center justify-center text-[10px] font-black">1</div>
                    <p class="text-[11px] text-gray-500 font-bold">Copy your link and share with friends on WhatsApp or Groups.</p>
                </div>
                <div class="flex gap-4">
                    <div class="bg-blue-600 text-white w-6 h-6 rounded-full flex-shrink-0 flex items-center justify-center text-[10px] font-black">2</div>
                    <p class="text-[11px] text-gray-500 font-bold">When they register and purchase a plan, you get 10% commission automatically.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around py-4 shadow-2xl z-50 rounded-t-[30px]">
        <div onclick="window.location.href='index.html'" class="text-center text-gray-400 cursor-pointer"><i class="fas fa-home text-xl"></i><p class="text-[10px] font-black uppercase mt-1">Home</p></div>
        <div onclick="window.location.href='refer.html'" class="text-center text-blue-600 cursor-pointer"><i class="fas fa-users text-xl"></i><p class="text-[10px] font-black uppercase mt-1">Refer</p></div>
        <div onclick="window.location.href='mine.html'" class="text-center text-gray-400 cursor-pointer"><i class="fas fa-user-tie text-xl"></i><p class="text-[10px] font-black uppercase mt-1">Mine</p></div>
    </div>

    <script>
        const mobile = localStorage.getItem('userMobile') || 'user';
        const fullLink = window.location.origin + "/register.html?ref=" + mobile;
        document.getElementById('refUrl').innerText = fullLink;

        // --- STYLISH ALERT LOGIC ---
        window.showAlert = (msg) => {
            const modal = document.getElementById('customAlert');
            document.getElementById('alertMsg').innerText = msg;
            modal.classList.add('modal-active');
        };

        window.closeAlert = () => {
            document.getElementById('customAlert').classList.remove('modal-active');
        };

        window.copyRef = () => {
            navigator.clipboard.writeText(fullLink);
            showAlert("Invitation link copied to clipboard!");
        };
    </script>
</body>
</html>
